diff -up tigervnc-1.1.0/unix/xserver/hw/vnc/Makefile.am.rh950708 tigervnc-1.1.0/unix/xserver/hw/vnc/Makefile.am
--- tigervnc-1.1.0/unix/xserver/hw/vnc/Makefile.am.rh950708	2013-04-25 16:02:46.844744710 +0200
+++ tigervnc-1.1.0/unix/xserver/hw/vnc/Makefile.am	2013-04-25 16:03:59.717588029 +0200
@@ -8,6 +8,10 @@ XREGION_LIB=$(LIB_DIR)/Xregion/libXregio
 OS_LIB=$(LIB_DIR)/os/libos.la
 COMMON_LIBS=$(NETWORK_LIB) $(RFB_LIB) $(RDR_LIB) $(XREGION_LIB)
 
+if GLX
+GLX_LIB = $(top_srcdir)/glx/libglx.la
+endif
+
 noinst_LTLIBRARIES = libvnccommon.la
 
 HDRS = RegionHelper.h vncExtInit.h vncHooks.h XserverDesktop.h xorg-version.h \
@@ -34,7 +38,8 @@ Xvnc_CPPFLAGS = $(XVNC_CPPFLAGS) -DTIGER
 	-UHAVE_CONFIG_H \
 	-DXFree86Server -DVENDOR_RELEASE="$(VENDOR_RELEASE)" \
 	-DVENDOR_STRING="\"$(VENDOR_STRING)\"" -I$(TIGERVNC_SRCDIR)/common \
-	-I$(top_srcdir)/include -I$(includedir)/pixman-1 -I$(includedir)
+	-I$(top_srcdir)/include -I$(includedir)/pixman-1 -I$(includedir) \
+	-I$(top_srcdir)/glx
 
 Xvnc_LDADD = $(XVNC_LIBS) libvnccommon.la $(COMMON_LIBS) \
 	$(XSERVER_LIBS) $(XSERVER_SYS_LIBS) $(XVNC_SYS_LIBS) -lX11
@@ -54,7 +59,7 @@ libvnc_la_CPPFLAGS = $(XVNC_CPPFLAGS) -I
 
 libvnc_la_LDFLAGS = -module -avoid-version -Wl,-z,now
 
-libvnc_la_LIBADD = libvnccommon.la $(COMMON_LIBS) $(OS_LIB)
+libvnc_la_LIBADD = libvnccommon.la $(COMMON_LIBS) $(OS_LIB) $(GLX_LIB)
 
 EXTRA_DIST = Xvnc.man
 
diff -up tigervnc-1.1.0/unix/xserver/hw/vnc/xvnc.cc.rh950708 tigervnc-1.1.0/unix/xserver/hw/vnc/xvnc.cc
--- tigervnc-1.1.0/unix/xserver/hw/vnc/xvnc.cc.rh950708	2013-04-25 16:04:25.262533105 +0200
+++ tigervnc-1.1.0/unix/xserver/hw/vnc/xvnc.cc	2013-04-25 16:05:41.123370000 +0200
@@ -87,6 +87,14 @@ extern "C" {
 #include "version-config.h"
 #include "site.h"
 #endif
+#if XORG >= 113
+#ifdef GLXEXT
+#define private _private
+#include "glxserver.h"
+#undef private
+#include "glx_extinit.h"
+#endif
+#endif
 #undef class
 #undef public
 }
@@ -1304,6 +1312,16 @@ static void vfbClientStateChange(Callbac
   dispatchException &= ~DE_RESET;
 }
 
+#if XORG >= 113
+#ifdef GLXEXT
+static ExtensionModule vnc_glx_ext = {
+    GlxExtensionInit,
+    "GLX",
+    &noGlxExtension
+};
+#endif
+#endif
+
 void
 InitOutput(ScreenInfo *screenInfo, int argc, char **argv)
 {
@@ -1313,6 +1331,13 @@ InitOutput(ScreenInfo *screenInfo, int a
     int i;
     int NumFormats = 0;
 
+#if XORG >= 113
+#ifdef GLXEXT
+    if (serverGeneration == 1)
+        LoadExtension(&vnc_glx_ext, TRUE);
+#endif
+#endif
+
     /* initialize pixmap formats */
 
     /* must have a pixmap depth to match every screen depth */
